@if(isLoading){
<app-spinner></app-spinner>
} @else {
<div
  class="w-full bg-[#F5F7FB] px-4 lg:px-6 py-6"
  [@fadeSlideInOut]="isVisible"
  #scrollContainer
>
  <section class="bg-white w-full p-2 rounded-xl shadow-lg p-5 lg:p-6">
    <div
      class="w-full flex flex-col md:flex-row items-center justify-center p-1 lg:p-0 mx-auto gap-5 lg:gap-10"
    >
      <div class="w-full">
        <h3
          class="font-semibold text-[1.2rem] md:text-[1.1rem] lg:text-[1.7rem] leading-snug"
        >
          Unlock Your Financial Potential with Detailed Reports
        </h3>
        <p class="my-2 text-gray-500 text-[0.8rem] font-small text-justify">
          Gain clarity and control over your finances. Our detailed reports
          provide actionable insights into your spending habits, income streams,
          and budget adherence, empowering you to make smarter financial
          decisions.
        </p>

        <button
          type="button"
          class="mt-7 bg-[#0078BD] text-[0.9rem] px-4 py-2 rounded shadow-md text-white font-semibold transition duration-300 hidden md:block"
        >
          Explore Reports
        </button>
      </div>
      <div class="w-full flex items-center justify-center md:justify-end">
        <img
          src="reports/header-img.png"
          alt="Reports Header image"
          class="w-[100%] lg:w-[70%] h-auto border-1 border-gray-300 rounded-lg shadow-md aspect-video object-cover"
        />
      </div>
      <button
        type="button"
        class="bg-[#0078BD] text-[0.9rem] px-4 py-4 rounded shadow-md text-white font-semibold transition duration-300 block md:hidden w-full"
      >
        Explore Reports
      </button>
    </div>
  </section>

  <section class="mt-10 w-full rounded-xl">
    <h3
      class="font-semibold text-center text-[1rem] md:text-[1.1rem] lg:text-[1.5rem] leading-snug"
    >
      Comprehensive Financial Overview
    </h3>
    <div class="flex flex-col lg:flex-row w-full gap-5 mt-5">
      <div class="w-full">
        <app-summary-statistics
          [totalIncome]="totalIncome"
          [totalBudget]="totalBudget"
          [totalExpenses]="totalExpenses"
          [remainingBudget]="remainingBudget"
          [totalBudgetAllocated]="totalBudgetAllocated()"
          [totalBudgetUnallocated]="totalBudgetUnallocated()"
          [totalSavingsAmount]="totalSavingsAmount()"
          [totalTargetedSavings]="totalTargetedSavings()"
        ></app-summary-statistics>

        <app-key-insights
          [summaryMsg]="getSummarryMsg(totalExpenses, totalBudget)"
          [totalBudget]="totalBudget"
          [topExpense]="topExpense"
          [topExpensePercentage]="topExpensePercentage"
          [overbudgetCategories]="getOverbudgetCategories()"
          [highestBudgetCategory]="highestBudgetCategory()"
          [getHighestBudgetCategory]="getHighestBudgetCategory()"
          [totalSavings]="totalSavingsAmount()"
          [totalTargtedSavings]="totalTargetedSavings()"
          [totalGoalsWithOverSavings]="totalGoalsWithOverSavings()"
        ></app-key-insights>

        <app-ag-table
          [rowClass]="rowClass"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [displayTableData]="displayTableData"
          [title]="'Recent Transactions'"
        ></app-ag-table>

        <app-ag-table
          [rowClass]="rowClass"
          [columnDefs]="savingsColumnDefs"
          [defaultColDef]="defaultColDef"
          [displayTableData]="savingsDisplayTable"
          [title]="'Recent Savings History'"
        ></app-ag-table>
      </div>
      <div class="w-full">
        <div
          class="w-full border-1 border-gray-200 rounded-lg p-2 lg:p-1 bg-white"
        >
          <ag-charts
            [options]="donutChartConfig"
            style="width: 100%; height: 405px; display: block"
          ></ag-charts>
        </div>
        <div
          class="w-full border-1 border-gray-200 rounded-lg p-2 lg:p-1 bg-white mt-5"
        >
          <ag-charts
            [options]="pieChartConfig"
            style="width: 100%; height: 405px; display: block"
          ></ag-charts>
        </div>
        <div
          class="w-full border-1 border-gray-200 rounded-lg p-2 lg:p-1 bg-white mt-5"
        >
          <ag-charts
            [options]="barChartConfig"
            style="width: 100%; height: 405px; display: block"
          ></ag-charts>
        </div>

        <div
          class="w-full border-1 border-gray-200 rounded-lg p-2 lg:p-1 bg-white mt-5"
        >
          <ag-charts
            [options]="savingsBarchartConfig"
            style="width: 100%; height: 405px; display: block"
          ></ag-charts>
        </div>
        <!-- <div
          class="w-full border-1 border-gray-200 rounded-lg p-2 lg:p-1 bg-white mt-5"
        >
          <ag-charts
            [options]="lineChartConfig"
            style="height: 400px; display: block"
          ></ag-charts>
        </div> -->
      </div>
    </div>
  </section>
</div>
}
