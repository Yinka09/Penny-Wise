<p-toast />
@if(isLoading){
<app-spinner></app-spinner>
} @else {
<div
  class="bg-[#F5F7FB] px-4 lg:px-6 py-6 h-full overflow-y-auto lg:overflow-hidden w-full flex-1 flex flex-col overflow-x-hidden"
  [@fadeSlideInOut]="isVisible ? 'in' : 'out'"
>
  @if(cardData.length > 0){
  <div
    class="card-container grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full"
  >
    @for (item of cardData; track item){
    <app-card [cardItem]="item"></app-card>
    }
  </div>

  } @else {
  <div class="text-center mt-10">No data available!</div>
  }
  <div class="mt-10">
    <h3 class="font-bold">Recent Activity</h3>
    <div
      class="chart-table-container flex flex-col lg:flex-row justify-start gap-4 lg:justify-between w-full mt-3"
    >
      <div
        class="chart-container p-4 w-[100%] lg:w-[50%] rounded-lg shadow-md border-1 border-gray-300 bg-white"
      >
        <div class="flex flex-row justify-between">
          <div>
            <h4 class="text-[0.9rem] font-semibold">Categories</h4>
          </div>
          <select
            class="text-[0.8rem] cursor-pointer focus:outline-none rounded-lg w-[35%] lg:w-[20%] py-1 px-2 border-1 border-gray-300 font-medium focus:border-[#0078BD] transition duration-300"
          >
            <option value="1">Monthly</option>
          </select>
        </div>
        <div class="mt-4" style="width: 100%; height: 100%; flex: 1 1 auto">
          <ag-charts
            [options]="options"
            style="width: 100%; height: 300px; display: block"
          ></ag-charts>
        </div>
      </div>
      <div
        class="p-4 w-[100%] lg:w-[50%] rounded-lg shadow-md border-1 border-gray-300 bg-white"
      >
        <div class="flex flex-row justify-between">
          <div>
            <h4 class="text-[0.9rem] font-semibold">Recent Transactions</h4>
          </div>
          <select
            (change)="onTransactionSelectChange($event)"
            class="text-[0.8rem] cursor-pointer focus:outline-none rounded-lg w-[35%] lg:w-[20%] py-1 px-2 border-1 border-gray-300 font-medium"
          >
            <option value="All">All</option>
            <option value="Income">Income</option>
            <option value="Expense">Expense</option>
          </select>
        </div>
        <div class="mt-4 min-w-full" style="height: 100%; overflow: auto">
          <ag-grid-angular
            style="
              height: 300px;
              display: block;
              min-width: 100%;
              overflow: auto;
            "
            [rowHeight]="50"
            [rowClass]="rowClass"
            [columnDefs]="columnDefs"
            [defaultColDef]="defaultColDef"
            [rowData]="displayTableData"
            (gridReady)="getTransactionTableDetails($event)"
          />
        </div>
      </div>
    </div>
  </div>
</div>
}
